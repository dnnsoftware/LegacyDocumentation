<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="4" MadCap:lastHeight="1689" MadCap:lastWidth="1293">
    <head>
    </head>
    <body>
        <h1>Sample Report: Counting Users In Each Role</h1>
        <p>How to create a report that lists the number of users in each role of your site using the Reports module. This tutorial is based on using a new instance of the Reports module and accepting all default for other fields.</p>
        <ol start="1">
            <li value="1">
                <MadCap:snippetText src="../../../../../../Resources/Snippets/Module Settings.flsnp" />
            </li>
            <li value="2">Select the <b>Report Settings </b>tab.</li>
            <li value="3">Go to the <b>Data Source Settings</b> section. </li>
            <li value="4">In the <b>Title </b>text box, enter <samp>Users In Roles</samp>. </li>
            <li value="5">In the <b>Description </b>text box, enter The number of users in each role in the site.</li>
            <li value="6">At <b>Active Data Source</b>, select <b>DotNetNuke Data Source</b>. </li>
            <li value="7">In the <b>Query </b>text box, enter the below query:<br />SELECT R.RoleName, COUNT(UR.UserID) AS 'UsersInRole'<br style="mc-tag-and-class: kbd;" />FROM {oQ}UserRoles AS UR <br style="mc-tag-and-class: kbd;" />INNER JOIN {oQ}Roles AS R ON UR.RoleID = R.RoleID<br style="mc-tag-and-class: kbd;" />WHERE PortalID = @PortalID<br style="mc-tag-and-class: kbd;" />GROUP BY R.RoleName </li>
            <li value="8">Go to the <b>Display and Caching Settings </b>section. </li>
            <li value="9">At <b>Show Info Pane</b>, mark <img src="../../../../Resources/Images/Icons/check.png" style="vertical-align: bottom;" />&#160;the check box. </li>
            <li value="10">At <b>Auto Run Report</b>, mark <img src="../../../../Resources/Images/Icons/check.png" style="vertical-align: bottom;" />&#160;the check box. </li>
            <li value="11">
                <MadCap:snippetText src="../../../../../../Resources/Snippets/Update.flsnp" />
            </li>
        </ol>
        <p>
            <img src="../../../../Resources/Images/Modules/Report/Rep_Sample_UsersInRoles1.PNG" />
            <br /><small>Setting the Report: Counting Users In Each Role</small>
        </p>
        <p>
            <img src="../../../../Resources/Images/Modules/Report/Rep_Sample_UsersInRoles2.png" />
            <br /><small>Sample Report: Counting Users In Each Role</small>
        </p>
    </body>
</html>